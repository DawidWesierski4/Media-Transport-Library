<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1227px" preserveAspectRatio="none" style="width:676px;height:1227px;" version="1.1" viewBox="0 0 676 1227" width="676px" zoomAndPan="magnify"><defs><filter height="300%" id="f13hynjvoaz4n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13hynjvoaz4n)" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="222.3672"/><rect fill="#FFFFFF" filter="url(#f13hynjvoaz4n)" height="79.0547" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="420.4766"/><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="429" y="506.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="436" y="528.0645">GUIThread</text><rect fill="#FFFFFF" filter="url(#f13hynjvoaz4n)" height="122.4063" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="620.8438"/><rect fill="#FFFFFF" filter="url(#f13hynjvoaz4n)" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="235.5" x="419" y="757.25"/><rect fill="#FFFFFF" filter="url(#f13hynjvoaz4n)" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="907.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="66" x2="66" y1="39.6094" y2="1185.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="373" x2="373" y1="39.6094" y2="1185.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="472" x2="472" y1="539.8359" y2="1185.8203"/><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="30" y="24.5332">Application</text><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="23" y="1184.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="30" y="1206.3535">Application</text><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="328" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="335" y="24.5332">St21Library</text><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="328" y="1184.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="335" y="1206.3535">St21Library</text><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="429" y="1184.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="436" y="1206.3535">GUIThread</text><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="661.5" x="3" y="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="70.7852" y2="70.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="73.7852" y2="73.7852"/><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="97" x="285.25" y="59.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="291.25" y="77.1045">Initialization</text><polygon fill="#A80036" points="361.5,111.9609,371.5,115.9609,361.5,119.9609,365.5,115.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="115.9609" y2="115.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="73.5" y="111.4561">StCreateDevice() for TX direction</text><polygon fill="#A80036" points="77.5,142.3125,67.5,146.3125,77.5,150.3125,73.5,146.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="146.3125" y2="146.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="141.8076">ST_OK</text><polygon fill="#A80036" points="361.5,172.6641,371.5,176.6641,361.5,180.6641,365.5,176.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="176.6641" y2="176.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="73.5" y="172.1592">StCreateDevice() for RX direction</text><polygon fill="#A80036" points="77.5,203.0156,67.5,207.0156,77.5,211.0156,73.5,207.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="207.0156" y2="207.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="202.5107">ST_OK</text><path d="M13,222.3672 L86,222.3672 L86,230.3672 L76,240.3672 L13,240.3672 L13,222.3672 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="222.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="236.8623">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="101" y="235.7861">[for all chosen essences (Audio, Video and Ancillary)]</text><polygon fill="#A80036" points="361.5,258.7188,371.5,262.7188,361.5,266.7188,365.5,262.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="262.7188" y2="262.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="73.5" y="258.2139">StCreateSession()</text><polygon fill="#A80036" points="77.5,289.0703,67.5,293.0703,77.5,297.0703,73.5,293.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="293.0703" y2="293.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="288.5654">ST_OK</text><polygon fill="#A80036" points="361.5,319.4219,371.5,323.4219,361.5,327.4219,365.5,323.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="323.4219" y2="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="73.5" y="318.917">BindIpAddress()</text><polygon fill="#A80036" points="77.5,349.7734,67.5,353.7734,77.5,357.7734,73.5,353.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="353.7734" y2="353.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="349.2686">ST_OK</text><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="661.5" x="3" y="390.3008"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="390.3008" y2="390.3008"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="393.3008" y2="393.3008"/><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="214" x="226.75" y="379.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="232.75" y="396.6201">Application setup as Consumer</text><path d="M13,420.4766 L86,420.4766 L86,428.4766 L76,438.4766 L13,438.4766 L13,420.4766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="79.0547" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="420.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="434.9717">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="101" y="433.8955">[for all chosen essences (Audio, Video and Ancillary)]</text><polygon fill="#A80036" points="361.5,456.8281,371.5,460.8281,361.5,464.8281,365.5,460.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="460.8281" y2="460.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="73.5" y="456.3232">StRegisterConsumer()</text><polygon fill="#A80036" points="77.5,487.1797,67.5,491.1797,77.5,495.1797,73.5,491.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="491.1797" y2="491.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="486.6748">ST_OK</text><polygon fill="#A80036" points="417,524.5313,427,528.5313,417,532.5313,421,528.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="423" y1="528.5313" y2="528.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="73.5" y="524.0264">create  (Video)</text><rect fill="#FEFECE" filter="url(#f13hynjvoaz4n)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="429" y="506.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="436" y="528.0645">GUIThread</text><polygon fill="#A80036" points="361.5,571.1406,371.5,575.1406,361.5,579.1406,365.5,575.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="575.1406" y2="575.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="73.5" y="570.6357">StStartDevice(dev)</text><polygon fill="#A80036" points="77.5,601.4922,67.5,605.4922,77.5,609.4922,73.5,605.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="605.4922" y2="605.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="600.9873">ST_OK</text><path d="M13,620.8438 L86,620.8438 L86,628.8438 L76,638.8438 L13,638.8438 L13,620.8438 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="122.4063" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="620.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="635.3389">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="101" y="634.2627">[till application exit]</text><polygon fill="#A80036" points="77.5,657.1953,67.5,661.1953,77.5,665.1953,73.5,661.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="372.5" y1="661.1953" y2="661.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="83.5" y="656.6904">St21GetNextFrameBuf()</text><polygon fill="#A80036" points="77.5,687.5469,67.5,691.5469,77.5,695.5469,73.5,691.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="372.5" y1="691.5469" y2="691.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="83.5" y="687.042">St21NotifyFrameRecv()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="108.5" y1="722.25" y2="722.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108.5" x2="108.5" y1="722.25" y2="735.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="67.5" x2="108.5" y1="735.25" y2="735.25"/><polygon fill="#A80036" points="77.5,731.25,67.5,735.25,77.5,739.25,73.5,735.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="73.5" y="717.3936">Copy to frame buffer and update GUI thread pointer</text><path d="M419,757.25 L492,757.25 L492,765.25 L482,775.25 L419,775.25 L419,757.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="61.7031" style="stroke: #000000; stroke-width: 2.0;" width="235.5" x="419" y="757.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="434" y="771.7451">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="507" y="770.6689">[till application exit]</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="472.5" x2="514.5" y1="797.9531" y2="797.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="514.5" x2="514.5" y1="797.9531" y2="810.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="473.5" x2="514.5" y1="810.9531" y2="810.9531"/><polygon fill="#A80036" points="483.5,806.9531,473.5,810.9531,483.5,814.9531,479.5,810.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="479.5" y="793.0967">Read video buffer and render</text><polygon fill="#A80036" points="77.5,843.9531,67.5,847.9531,77.5,851.9531,73.5,847.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="471.5" y1="847.9531" y2="847.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="83.5" y="843.4482">: end of data</text><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="661.5" x="3" y="877.4805"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="877.4805" y2="877.4805"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="664.5" y1="880.4805" y2="880.4805"/><rect fill="#EEEEEE" filter="url(#f13hynjvoaz4n)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="118" x="274.75" y="866.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="280.75" y="883.7998">Library cleanup</text><path d="M13,907.6563 L86,907.6563 L86,915.6563 L76,925.6563 L13,925.6563 L13,907.6563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.7578" style="stroke: #000000; stroke-width: 2.0;" width="416" x="13" y="907.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="922.1514">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="101" y="921.0752">[for all chosen essences (Audio, Video and Ancillary)]</text><polygon fill="#A80036" points="361.5,944.0078,371.5,948.0078,361.5,952.0078,365.5,948.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="948.0078" y2="948.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="73.5" y="943.5029">StConsumerStop()</text><polygon fill="#A80036" points="77.5,974.3594,67.5,978.3594,77.5,982.3594,73.5,978.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="978.3594" y2="978.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="973.8545">ST_OK</text><polygon fill="#A80036" points="361.5,1004.7109,371.5,1008.7109,361.5,1012.7109,365.5,1008.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="1008.7109" y2="1008.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="73.5" y="1004.2061">StDestroySession()</text><polygon fill="#A80036" points="77.5,1035.0625,67.5,1039.0625,77.5,1043.0625,73.5,1039.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="1039.0625" y2="1039.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="1034.5576">ST_OK</text><polygon fill="#A80036" points="361.5,1072.4141,371.5,1076.4141,361.5,1080.4141,365.5,1076.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="1076.4141" y2="1076.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="73.5" y="1071.9092">StDestroyDevice() for TX direction</text><polygon fill="#A80036" points="77.5,1102.7656,67.5,1106.7656,77.5,1110.7656,73.5,1106.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="1106.7656" y2="1106.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="1102.2607">ST_OK</text><polygon fill="#A80036" points="361.5,1133.1172,371.5,1137.1172,361.5,1141.1172,365.5,1137.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="66.5" x2="367.5" y1="1137.1172" y2="1137.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="73.5" y="1132.6123">StDestroyDevice() for RX direction</text><polygon fill="#A80036" points="77.5,1163.4688,67.5,1167.4688,77.5,1171.4688,73.5,1167.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71.5" x2="372.5" y1="1167.4688" y2="1167.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="83.5" y="1162.9639">ST_OK</text><!--
@startuml
participant Application
participant St21Library

== Initialization ==
Application -> St21Library:StCreateDevice() for TX direction
Application <- - St21Library:ST_OK
Application -> St21Library:StCreateDevice() for RX direction
Application <- - St21Library:ST_OK
loop for all chosen essences (Audio, Video and Ancillary)
Application -> St21Library: StCreateSession()
Application <- - St21Library:ST_OK
Application -> St21Library: BindIpAddress()
Application <- - St21Library:ST_OK
end

== Application setup as Consumer ==
loop for all chosen essences (Audio, Video and Ancillary)
Application -> St21Library: StRegisterConsumer()
Application <- - St21Library:ST_OK
end
Application -> GUIThread ** : create  (Video)
Application -> St21Library:StStartDevice(dev)
Application <- - St21Library:ST_OK
loop till application exit
    Application <- St21Library: St21GetNextFrameBuf()
Application <- St21Library:St21NotifyFrameRecv()
Application -> Application: Copy to frame buffer and update GUI thread pointer
end
loop till application exit
    GUIThread - -> GUIThread: Read video buffer and render
end
GUIThread -> Application:: end of data
== Library cleanup ==
loop for all chosen essences (Audio, Video and Ancillary)
Application -> St21Library: StConsumerStop()
Application <- - St21Library:ST_OK
Application -> St21Library: StDestroySession()
Application <- - St21Library:ST_OK
end
Application -> St21Library:StDestroyDevice() for TX direction
Application <- - St21Library:ST_OK
Application -> St21Library:StDestroyDevice() for RX direction
Application <- - St21Library:ST_OK

@enduml

PlantUML version 1.2018.01(Sun Jan 28 19:08:22 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b39
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>